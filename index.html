<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product App</title>

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;
  background:#ff9933;
  height:100vh;
  display:flex;
  flex-direction:column;
}
.top{ padding:12px; }
.top input{
  width:100%;
  padding:12px 16px;
  border:none;
  border-radius:25px;
  font-size:16px;
}
.list{
  flex:1;
  overflow-y:auto;
  padding:10px;
}
.card{
  background:#1e90ff;
  border-radius:14px;
  padding:15px;
  margin-bottom:12px;
  position:relative;
  display:flex;
  gap:10px;
  align-items:center;
}
.card input{
  width:45%;
  border:none;
  border-radius:10px;
  padding:10px;
  flex:1;
}
.menu-btn{
  position:absolute;
  right:10px;
  top:8px;
  color:#fff;
  font-size:22px;
  cursor:pointer;
}
.menu{
  position:fixed;
  top:10px;
  right:10px;
  background:#fff;
  border-radius:10px;
  display:none;
  overflow:hidden;
  z-index:1000;
}
.menu div{
  padding:10px 15px;
  cursor:pointer;
}
.menu div:hover{background:#eee}

.bottom{
  display:flex;
  justify-content:center;
  padding:15px;
}

/* ðŸ”¥ BUTTON instead of DIV */
.plus{
  width:65px;
  height:65px;
  border-radius:50%;
  background:#1e90ff;
  color:#fff;
  font-size:36px;
  border:none;
}
</style>
</head>

<body>

<div class="top">
  <input id="search" placeholder="Search product">
</div>

<div class="list" id="list"></div>

<div class="bottom">
  <button class="plus" id="addBtn">+</button>
</div>

<script>
let products = JSON.parse(localStorage.getItem("products")) || [];

const list = document.getElementById("list");
const addBtn = document.getElementById("addBtn");
const search = document.getElementById("search");

function saveData(){
  localStorage.setItem("products", JSON.stringify(products));
}

function render(data){
  list.innerHTML = "";

  data.forEach((p,i)=>{
    const card = document.createElement("div");
    card.className = "card";

    const price = document.createElement("input");
    price.value = p.price;
    price.disabled = !p.edit;

    const name = document.createElement("input");
    name.value = p.name;
    name.disabled = !p.edit;

    const dots = document.createElement("div");
    dots.className = "menu-btn";
    dots.innerText = "â‹®";

    const menu = document.createElement("div");
    menu.className = "menu";
    menu.innerHTML = `
      <div>Edit</div>
      <div>Save</div>
      <div>Delete</div>
    `;

    dots.onclick = (e)=>{
      e.stopPropagation();
      document.querySelectorAll(".menu").forEach(m=>m.style.display="none");
      menu.style.display="block";
    };

    menu.children[0].onclick=()=>{
      p.edit=true;
      menu.style.display="none";
      render(products);
    };

    menu.children[1].onclick=()=>{
      p.name=name.value;
      p.price=price.value;
      p.edit=false;
      saveData();
      menu.style.display="none";
      render(products);
    };

    menu.children[2].onclick=()=>{
      products.splice(i,1);
      saveData();
      render(products);
    };

    card.append(price,name,dots,menu);
    list.appendChild(card);
  });
}

/* âœ… HTML Creator FIX */
addBtn.addEventListener("click",function(){
  products.unshift({
    name:"Product Name",
    price:"Price",
    edit:true
  });
  saveData();
  render(products);
});

search.oninput=()=>{
  const v=search.value.toLowerCase();
  render(products.filter(p=>p.name.toLowerCase().includes(v)));
};

render(products);
</script>

</body>
</html>